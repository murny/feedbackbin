#!/usr/bin/env sh
set -eu

PORT="${PORT:-3000}"
export SOLID_QUEUE_IN_PUMA="${SOLID_QUEUE_IN_PUMA:-true}"

# Let the debug gem allow remote connections,
# but avoid loading until `debugger` is called
export RUBY_DEBUG_OPEN=true
export RUBY_DEBUG_LAZY=true

echo "Login with shane@example.com at: http://localhost:$PORT/"

exec ./bin/rails server -b 0.0.0.0 -p "$PORT" "$@"
