<%= tag.div class: "flex align-start",
            style: "column-gap: var(--space-4);",
            data: {
              controller: "upload-preview",
              upload_preview_default_image_value: preview_url
            } do %>
  <%= image_tag preview_url,
        role: "presentation",
        class: image_class,
        style: image_style,
        data: { "upload-preview-target": "image" } %>

  <div class="stack--sm flex-1">
    <%= form.file_field field_name,
          accept: "image/*",
          data: { upload_preview_target: "input", action: "upload-preview#previewImage" },
          class: "display-none" %>

    <div class="flex flex-wrap align-center" style="gap: var(--space-2);">
      <%= form.label field_name, class: button_classes do %>
        <%= helpers.lucide_icon "camera" %>
        <%= upload_button_text %>
      <% end %>

      <% if show_remove_button? %>
        <%= render Elements::ButtonComponent.new(variant: :ghost, size: :sm, href: remove_path, data: { "turbo-method": :delete, turbo_confirm: remove_confirmation }) do %>
          <%= helpers.lucide_icon "trash-2" %>
          <%= helpers.t("remove") %>
        <% end %>
      <% end %>
    </div>

    <p class="txt-x-small txt-subtle">
      <%= size_hint %>
    </p>
  </div>
<% end %>
