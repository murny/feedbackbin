<% content_for :title, t(".title") %>

<div class="container">
  <div class="container--page">
    <div class="page-header page-header--compact">
      <h1 class="txt-xx-large font-weight-bold"><%= t(".title") %></h1>
    </div>

    <div class="panel panel--warning panel--compact panel--accent-start margin-block-end-double">
      <div class="flex align-start gap-2">
        <%= lucide_icon "alert-triangle", class: "size-5 txt-warning flex-item-no-shrink", style: "margin-block-start: 0.125rem;" %>
        <div>
          <span class="font-weight-semibold txt-warning"><%= t(".warning_title") %></span>
          <p class="txt-small txt-warning" style="margin-block-start: var(--space-1);"><%= t(".warning_message") %></p>
        </div>
      </div>
    </div>

    <%= render Elements::PanelComponent.new do |c| %>
      <% c.with_body(style: "padding-block: var(--space-4);") do %>
        <%= form_with url: admin_settings_ownership_transfer_path, method: :post, class: "form form--stack" do |f| %>
          <div class="form__group form__group--tight">
            <%= f.label :new_owner_id, t(".new_owner"), class: "display-block txt-small font-weight-medium" %>
            <%= f.select :new_owner_id,
                options_from_collection_for_select(@admins, :id, :name),
                { prompt: t(".select_admin") },
                class: "form-select full-width" %>
            <p class="txt-small txt-subtle">
              <%= t(".new_owner_help") %>
            </p>
          </div>

          <div class="form__actions form__actions--spacious form__actions--offset-lg">
            <%= render Elements::ButtonComponent.new(type: :submit, variant: :default) do %>
              <%= t(".transfer_ownership") %>
            <% end %>
            <%= render Elements::ButtonComponent.new(href: admin_settings_branding_path, variant: :outline) do %>
              <%= t("cancel") %>
            <% end %>
          </div>
        <% end %>
      <% end %>
    <% end %>
  </div>
</div>
