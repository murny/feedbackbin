<% content_for :title, t(".title") %>

<div class="center full-width" style="max-inline-size: 56rem;">
  <%= render partial: "admin/settings/header" %>

  <div style="margin-block-start: var(--space-8);">
    <div class="flex align-center justify-space-between" style="margin-block-end: var(--space-6);">
      <div>
        <h2 class="txt-large font-weight-medium"><%= t(".title") %></h2>
        <p class="txt-small txt-subtle"><%= t(".description") %></p>
      </div>
      <div class="txt-nowrap">
        <%= link_to t(".new_board"), new_admin_settings_board_path, class: "btn btn--primary" %>
      </div>
    </div>

    <% if @boards.any? %>
      <%= render Elements::CardComponent.new do |c| %>
        <% c.with_body(class: "unpad") do %>
          <ul role="list" class="divide-y">
          <% @boards.each do |board| %>
            <li class="flex align-center justify-space-between" style="gap: var(--space-6); padding-block: var(--space-5); padding-inline: var(--space-6);">
              <div class="flex align-center min-width" style="gap: var(--space-4);">
                <span class="size-6 flex-item-no-shrink" style="border-radius: 9999px; box-shadow: 0 0 0 2px var(--color-background), var(--shadow-sm); background-color: <%= board.color %>;"></span>
                <div class="min-width" style="flex: 1 1 auto;">
                  <p class="txt-small font-weight-semibold" style="line-height: 1.5rem;">
                    <%= board.name %>
                  </p>
                  <% if board.description.present? %>
                    <p class="txt-x-small txt-subtle overflow-line-clamp" style="--lines: 1; margin-block-start: var(--space-1); line-height: 1.25rem;">
                      <%= board.description %>
                    </p>
                  <% end %>
                  <div class="flex align-center txt-x-small txt-subtle" style="margin-block-start: var(--space-1); gap: var(--space-2); line-height: 1.25rem;">
                    <p>
                      <%= t(".ideas_count", count: board.ideas.size) %>
                    </p>
                  </div>
                </div>
              </div>
              <div class="flex align-center" style="gap: var(--space-4);">
                <div class="flex" style="gap: var(--space-2);">
                  <%= link_to edit_admin_settings_board_path(board), class: "txt-small txt-subtle" do %>
                    <%= lucide_icon "pencil", class: "size-5" %>
                    <span class="visually-hidden"><%= t("edit") %></span>
                  <% end %>
                  <%= link_to admin_settings_board_path(board),
                        class: "txt-small",
                        style: "color: var(--color-destructive);",
                        data: { "turbo-method": :delete, turbo_confirm: t("are_you_sure") } do %>
                    <%= lucide_icon "trash-2", class: "size-5" %>
                    <span class="visually-hidden"><%= t("delete") %></span>
                  <% end %>
                </div>
              </div>
            </li>
          <% end %>
          </ul>
        <% end %>
      <% end %>
    <% else %>
      <%= render Elements::CardComponent.new do |c| %>
        <% c.with_body(class: "txt-align-center", style: "padding: var(--space-8);") do %>
          <%= lucide_icon "folder", class: "center size-12 txt-subtle" %>
        <h3 class="txt-large font-weight-semibold" style="margin-block-start: var(--space-4);"><%= t(".no_boards_title") %></h3>
        <p class="txt-small txt-subtle" style="margin-block-start: var(--space-2);"><%= t(".no_boards_description") %></p>
        <div style="margin-block-start: var(--space-6);">
          <%= link_to t(".create_first_board"), new_admin_settings_board_path, class: "btn btn--primary" %>
        </div>
        <% end %>
      <% end %>
    <% end %>
  </div>
</div>
