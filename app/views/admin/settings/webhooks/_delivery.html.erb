<%# locals: (delivery:) %>

<li id="<%= dom_id(delivery) %>" class="flex align-center justify-space-between" style="padding-block: var(--space-3);">
  <div class="flex align-center" style="gap: var(--space-3);">
    <% if delivery.succeeded? %>
      <%= lucide_icon "check-circle", class: "size-5", style: "color: oklch(0.599 0.156 163.224);" %>
    <% elsif delivery.errored? %>
      <%= lucide_icon "x-circle", class: "size-5", style: "color: var(--color-destructive);" %>
    <% elsif delivery.in_progress? %>
      <%= lucide_icon "loader", class: "size-5 txt-subtle", style: "animation: spin 1s linear infinite;" %>
    <% else %>
      <%= lucide_icon "clock", class: "size-5 txt-subtle" %>
    <% end %>
    <div>
      <p class="txt-small font-weight-medium">
        <%= delivery.state.humanize %>
      </p>
      <p class="txt-x-small txt-subtle">
        <%= webhook_action_label(delivery.event.action) %>
      </p>
    </div>
  </div>
  <div class="txt-x-small txt-subtle">
    <%= time_ago_in_words(delivery.created_at) %> <%= t("notifications.ago") %>
  </div>
</li>
