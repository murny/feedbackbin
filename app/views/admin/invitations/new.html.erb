<% content_for :title, t(".title") %>

<div class="container container--page">
  <div class="page-header">
    <div class="page-header__meta">
      <%= link_to admin_invitations_path, class: "txt-small txt-subtle-link flex-inline align-center" do %>
        <%= lucide_icon "arrow-left", class: "size-4 margin-inline-end-half" %>
        <%= t(".back_to_invitations") %>
      <% end %>
    </div>
    <h1 class="txt-xx-large font-weight-semibold"><%= t(".title") %></h1>
    <p class="txt-small txt-subtle"><%= t(".description") %></p>
  </div>

  <%= render Elements::PanelComponent.new do |c| %>
    <% c.with_body do %>
      <%= form_with model: @invitation, url: admin_invitations_path, class: "form form--stack" do |form| %>
        <%= render "error_messages", resource: form.object %>

        <div class="form__group form__group--spacious">
          <%= form.label :email, t(".email"), class: "txt-small font-weight-medium" %>
          <%= form.email_field :email, placeholder: t(".email_placeholder"), class: "form-input", autofocus: true, required: true %>
          <p class="form__helper txt-x-small"><%= t(".email_hint") %></p>
        </div>

        <div class="form__group form__group--spacious">
          <%= form.label :name, t(".name"), class: "txt-small font-weight-medium" %>
          <%= form.text_field :name, placeholder: t(".name_placeholder"), class: "form-input", required: true %>
          <p class="form__helper txt-x-small"><%= t(".name_hint") %></p>
        </div>

        <div class="panel panel--info panel--compact">
          <div class="flex gap-3">
            <%= lucide_icon "info", class: "size-5 flex-item-no-shrink txt-primary", style: "margin-block-start: 0.125rem;" %>
            <div class="txt-small">
              <p><%= t(".member_role_note") %></p>
            </div>
          </div>
        </div>

        <div class="form__actions form__actions--end form__actions--spacious form__actions--offset-md">
          <%= link_to t(".cancel"), admin_invitations_path, class: "btn btn--secondary" %>
          <%= form.submit t(".send_invitation"), class: "btn btn--primary" %>
        </div>
      <% end %>
    <% end %>
  <% end %>
</div>
