<%# locals: (source_comment:, parent:, comment: Comment.new, mention: nil, show_form: false) %>

<div id="<%= dom_id(source_comment) %>_reply_section" class="mt-3" data-controller="comment-reply">
  <button type="button" class="inline-flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground <%= "hidden" if show_form %>" data-comment-reply-target="button" data-action="click->comment-reply#toggle">
    <%= lucide_icon "reply", class: "h-4 w-4" %>
    <%= t("comments.comment.reply") %>
  </button>

  <%= render partial: "comments/reply_form", locals: { source_comment: source_comment, parent: parent, comment: comment, mention: mention, show_form: show_form } %>
</div>
