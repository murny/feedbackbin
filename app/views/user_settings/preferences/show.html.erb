<% content_for(:title) { t("user_settings.page_titles.preferences") } %>

<div class="container mx-auto max-w-4xl">
  <%= render partial: "user_settings/header" %>

  <div class="mt-8">
    <div class="card p-6">
      <div class="space-y-6">
        <div>
          <h2 class="text-lg font-medium"><%= t(".title") %></h2>
          <p class="text-sm text-muted-foreground"><%= t(".description") %></p>
        </div>

        <%= form_with(model: @user,
              url: user_settings_preferences_path,
              method: :patch,
              data: { controller: "form", action: "keydown.enter->form#submit:prevent" }) do |form| %>
          <%= render "error_messages", resource: form.object %>

          <div class="grid gap-6">
            <div class="grid gap-2">
              <%= form.label :theme, class: "text-sm font-medium" %>
              <%= form.select :theme, theme_options, {}, { class: "w-full" } %>
              <p class="text-xs text-muted-foreground"><%= t(".theme_hint") %></p>
            </div>

            <div class="grid gap-2">
              <%= form.label :time_zone, class: "text-sm font-medium" %>
              <%= form.time_zone_select :time_zone, nil, {}, { class: "w-full" } %>
              <p class="text-xs text-muted-foreground"><%= t(".time_zone_hint") %></p>
            </div>

            <div class="grid gap-2">
              <%= form.label :preferred_language, class: "text-sm font-medium" %>
              <%= form.select :preferred_language, language_options, {}, { class: "w-full" } %>
              <p class="text-xs text-muted-foreground"><%= t(".language_hint") %></p>
            </div>
          </div>

          <div class="flex gap-3 pt-6">
            <%= form.submit t(".update_preferences"), class: "btn" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
