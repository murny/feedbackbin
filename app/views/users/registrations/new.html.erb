<% content_for(:title) { t(".title") } %>

<div class="container container--centered container--stack">
  <%= render "shared/auth_branding" %>

  <div class="panel">
    <header class="panel__header--centered">
      <h1 class="font-weight-semibold txt-x-large"><%= t(".create_your_account") %></h1>
      <p class="txt-subtle txt-small margin-block-start-half"><%= t(".join_account", account_name: Current.account.name) %></p>
    </header>

    <div class="panel__content panel__content--stack">
      <%= render "oauth_providers" %>

      <div class="text-divider txt-small txt-subtle"><%= t(".or_continue_with") %></div>

      <%= form_with model: @user, url: users_registrations_path, class: "grid", style: "gap: var(--space-6);" do |form| %>
        <%= render "error_messages", resource: @user %>
        <%= render "error_messages", resource: @identity %>
        <%= hidden_field_tag :invitation_token, params[:invitation_token] %>

        <div class="grid gap-3">
          <%= form.label :name, t(".name"), class: "txt-small font-weight-medium" %>
          <%= form.text_field :name, required: true, autofocus: true, autocomplete: "name", placeholder: t(".name_placeholder") %>
          <p class="txt-subtle txt-small"><%= t(".name_hint") %></p>
        </div>

        <div class="grid gap-3">
          <%= form.label :email_address, t(".email"), class: "txt-small font-weight-medium" %>
          <%= form.email_field :email_address, required: true, autocomplete: "email", placeholder: t(".email_address_placeholder") %>
          <p class="txt-subtle txt-small"><%= t(".email_address_hint") %></p>
        </div>

        <div class="grid gap-3">
          <%= form.label :password, t(".password"), class: "txt-small font-weight-medium" %>
          <%= form.password_field :password, required: true, autocomplete: "new-password", placeholder: t(".password_placeholder") %>
          <p class="txt-subtle txt-small"><%= t(".password_hint") %></p>
        </div>

        <%= form.submit t(".create_account"), class: "btn full-width" %>
      <% end %>

      <p class="txt-align-center txt-small">
        <%= t(".already_have_an_account") %>
        <%= link_to t(".login"), sign_in_path, class: "txt-underline" %>
      </p>
    </div>
  </div>

  <p class="txt-subtle txt-align-center txt-x-small txt-balance">
    <%= t(".terms_agreement_html",
          terms_link: link_to(t(".terms_of_service"), terms_path(script_name: nil), class: "txt-underline"),
          privacy_link: link_to(t(".privacy_policy"), privacy_path(script_name: nil), class: "txt-underline")) %>
  </p>
</div>
